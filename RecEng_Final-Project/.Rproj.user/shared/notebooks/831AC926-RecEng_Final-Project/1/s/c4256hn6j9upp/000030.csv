"0","groceriesRecAr <- Recommender(groceriesDataset, method = ""AR"", parameter = list(support = 0.001, conf = 0.001, maxlen = 70))"
"0","arGroceriesModel <- getModel(groceriesRecAr)$rule_base"
"0","rulesDF <- as(arGroceriesModel, ""data.frame"")"
"0","rulesDF$prior_conf <- rulesDF$confidence / rulesDF$lift"
"0","rulesDF$confidence_diff <- abs(rulesDF$confidence - rulesDF$prior_conf)"
"0","rulesDF$confidence_ratio <- 1- (apply(rulesDF[,c(3,7)], 1, min) / apply(rulesDF[,c(3,7)], 1, max) )"
"0","# Top 20 according to each AR metric"
"0","lift<-head(rulesDF[order(rulesDF$lift, decreasing = T),],20)"
"0","conf_rat<-head(rulesDF[order(rulesDF$confidence_ratio, decreasing = T),],20)"
"0","conf_dif<-head(rulesDF[order(rulesDF$confidence_diff, decreasing = T),],20) # Rules with longer LHS usually have higher confidence_difference"
